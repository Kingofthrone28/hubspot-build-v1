{% macro style(featured) %}{% if featured == 'true' %}background: rgba({{ module.style_1.featured.background_color.color|convert_rgb }},{{ module.style_1.featured.background_color.opacity / 100 }});border-radius: {{ module.style_1.featured.border_radius }}px;{% for side in module.style_1.featured.border_sides %}border-{{side}}: {{ module.style_1.featured.border_field.css|replace('border:','') }};{% endfor %}{% else %}background: rgba({{ module.style_1.post.background_color.color|convert_rgb }},{{ module.style_1.post.background_color.opacity / 100 }});border-radius: {{ module.style_1.post.border_radius }}px;{% for side in module.style_1.post.border_sides %}border-{{side}}: {{ module.style_1.post.border_field.css|replace('border:','') }};{% endfor %}{% endif %}{% endmacro %}{% macro padding(featured) %}{% if featured == 'true' %}padding: {{ module.style_1.featured.spacing_field.padding.top.value }}{{ module.style_1.featured.spacing_field.padding.top.units }} {{ module.style_1.featured.spacing_field.padding.right.value }}{{ module.style_1.featured.spacing_field.padding.right.units }} {{ module.style_1.featured.spacing_field.padding.bottom.value }}{{ module.style_1.featured.spacing_field.padding.bottom.units }} {{ module.style_1.featured.spacing_field.padding.left.value }}{{ module.style_1.featured.spacing_field.padding.left.units }};{% else %}padding: {{ module.style_1.post.spacing_field.padding.top.value }}{{ module.style_1.post.spacing_field.padding.top.units }} {{ module.style_1.post.spacing_field.padding.right.value }}{{ module.style_1.post.spacing_field.padding.right.units }} {{ module.style_1.post.spacing_field.padding.bottom.value }}{{ module.style_1.post.spacing_field.padding.bottom.units }} {{ module.style_1.post.spacing_field.padding.left.value }}{{ module.style_1.post.spacing_field.padding.left.units }};{% endif %}{% endmacro %}{% macro margin(featured) %}{% if featured == 'true' %}margin-top:{{ module.style_1.featured.spacing_field.margin.top.value }}{{ module.style_1.featured.spacing_field.margin.top.units }};margin-bottom:{{ module.style_1.featured.spacing_field.margin.bottom.value }}{{ module.style_1.featured.spacing_field.margin.bottom.units }};{% else %}margin-top:{{ module.style_1.post.spacing_field.margin.top.value }}{{ module.style_1.post.spacing_field.margin.top.units }};margin-bottom:{{ module.style_1.post.spacing_field.margin.bottom.value }}{{ module.style_1.post.spacing_field.margin.bottom.units }};{% endif %}{% endmacro %}{% macro shadow(featured) %}{% if featured == 'true' %}{% if module.style_1.featured.drop_shadow %}box-shadow: 0 0 10px rgba(0,0,0, .2);{% endif %}{% else %}{% if module.style_1.post.drop_shadow %}box-shadow: 0 0 10px rgba(0,0,0, .2);{% endif %}{% endif %}{% endmacro %}
{% macro readmore()  %}
<a class="more-link" href="{{content.absolute_url}}" style="{% if module.style_1.fonts.read_more.font %}font-family: {{ module.style_1.fonts.read_more.font }}; {% endif %}{{ module.style_1.fonts.read_more.style }};{% if module.style_1.fonts.read_more.color %} color: {{ module.style_1.fonts.read_more.color }};{% endif %} font-size: {{ module.style_1.fonts.read_more.size }}{{module.style_1.fonts.read_more.size_unit }};">{% if module.read_more.read_more_text %}{{ module.read_more.read_more_text }}{% else %}<span style="display:none;">Read more of the blog post</span>{% endif %}{% if module.read_more.arrow != 'none' %} <i class="far {{ module.read_more.arrow }}" aria-hidden="true"></i>{% endif %}</a>
{% endmacro %}
{% macro topics()  %}
{% if content.topic_list %}
<div class="topics" style="{% if module.style_1.fonts.tags.font %}font-family: {{ module.style_1.fonts.tags.font }}; {% endif %}{{ module.style_1.fonts.tags.style }};{% if module.style_1.fonts.tags.color %} color: {{ module.style_1.fonts.tags.color }};{% endif %} font-size: {{ module.style_1.fonts.tags.size }}{{module.style_1.fonts.tags.size_unit }};">{% for topic in content.topic_list %}
  <a class="topic-link" href="{{ group.absolute_url }}/topic/{{ topic.slug }}" style="{% if module.style_1.fonts.tags.color %} color: {{ module.style_1.fonts.tags.color }};{% endif %}">{{ topic.name }}</a>{% if not loop.last %}{{ module.topics.topic_separator }}{% endif %}{% endfor %}
</div>{% endif %}
{% endmacro %}
{% macro image_layout(is_featured, layout)  %}{% set list = module.display %}{% if layout == 'left' %}
<div class="blog-item {{ module.style_1.animation.animation }} {% if is_featured == 'true' %}column-1 featured{% else %}column-{{ module.posts_per_row }}{% endif %}" style="{{ style(is_featured) }}{{ margin(is_featured) }}{{ shadow(is_featured) }}">
  <a href="{{content.absolute_url}}" class="blog-item-img" style="{% if is_featured == 'true' %}border-radius: {{ module.style_1.featured.border_radius }}px;{% else %}border-radius: {{ module.style_1.post.border_radius }}px;{% endif %}background: {{ module.image_bg_color.color }} url('{{ content.post_list_summary_featured_image }}') center no-repeat;background-size: {{ module.background_size }};"><div style="padding-top: {{ module.image_layout }}%;"></div>
    <span class="sr-label">{{ content.name }}</span>
  </a>
  <div class="blog-item-content" style="{{ padding(is_featured) }}">
    {% if module.topics.loaction == 'top' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
    <div class="blog-item-name">
      <a class="post-link" href="{{content.absolute_url}}">{% if 'title' in list %}<h3 style="{% if module.style_1.fonts.title.font %}font-family: {{ module.style_1.fonts.title.font }}; {% endif %}{{ module.style_1.fonts.title.style }};{% if module.style_1.fonts.title.color %} color: {{ module.style_1.fonts.title.color }};{% endif %} font-size: {{ module.style_1.fonts.title.size }}{{module.style_1.fonts.title.size_unit }};">{{ content.name }}</h3>{% endif %}{% if 'content' in list %}<div style="{% if module.style_1.fonts.content.font %}font-family: {{ module.style_1.fonts.content.font }}; {% endif %}{{ module.style_1.fonts.content.style }};{% if module.style_1.fonts.content.color %} color: {{ module.style_1.fonts.content.color }};{% endif %} font-size: {{ module.style_1.fonts.content.size }}{{module.style_1.fonts.content.size_unit }};">{{ content.post_list_content|cut('&nbsp;')|striptags|truncate(150, True, '...') }}</div>{% endif %}</a>
    </div>
    <div class="post-footer" style="padding: 0 {{ module.style_1.post.spacing_field.padding.right.value }}{{ module.style_1.post.spacing_field.padding.right.units }} {{ module.style_1.post.spacing_field.padding.bottom.value }}{{ module.style_1.post.spacing_field.padding.bottom.units }} {{ module.style_1.post.spacing_field.padding.left.value }}{{ module.style_1.post.spacing_field.padding.left.units }};">
      {% if module.topics.loaction == 'bottom' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
      {% if 'read_more' in list %}{{ readmore() }}{% endif %}
    </div>
    {% if 'author' in list %}<div class="author-date">{% if content.blog_author %}<span class="auth-img" style="background: #ebebeb url({{ content.blog_author.avatar }}) center;background-size: cover;"></span>By {{content.blog_author.display_name}}{{ '<br>' if 'date' in list }}{% endif %}{% if 'date' in list %}{{ content.publish_date|datetimeformat('%m/%d/%Y') }} {% endif %}</div>{% endif %}
  </div>
</div>
{% elif layout == 'right' %}
<div class="blog-item item-right {{ module.style_1.animation.animation }} {% if is_featured == 'true' %}column-1 featured{% else %}column-{{ module.posts_per_row }}{% endif %}" style="{{ style(is_featured) }}{{ margin(is_featured) }}{{ shadow(is_featured) }}">
  <div class="blog-item-content" style="{{ padding(is_featured) }}">
    {% if module.topics.loaction == 'top' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
    <div class="blog-item-name">
      <a class="post-link" href="{{content.absolute_url}}">{% if 'title' in list %}<h3 style="{% if module.style_1.fonts.title.font %}font-family: {{ module.style_1.fonts.title.font }}; {% endif %}{{ module.style_1.fonts.title.style }};{% if module.style_1.fonts.title.color %} color: {{ module.style_1.fonts.title.color }};{% endif %} font-size: {{ module.style_1.fonts.title.size }}{{module.style_1.fonts.title.size_unit }};">{{ content.name }}</h3>{% endif %}{% if 'content' in list %}<div style="{% if module.style_1.fonts.content.font %}font-family: {{ module.style_1.fonts.content.font }}; {% endif %}{{ module.style_1.fonts.content.style }};{% if module.style_1.fonts.content.color %} color: {{ module.style_1.fonts.content.color }};{% endif %} font-size: {{ module.style_1.fonts.content.size }}{{module.style_1.fonts.content.size_unit }};">{{ content.post_list_content|cut('&nbsp;')|striptags|truncate(150, True, '...') }}</div>{% endif %}</a>
    </div>
    <div class="post-footer" style="padding: 0 {{ module.style_1.post.spacing_field.padding.right.value }}{{ module.style_1.post.spacing_field.padding.right.units }} {{ module.style_1.post.spacing_field.padding.bottom.value }}{{ module.style_1.post.spacing_field.padding.bottom.units }} {{ module.style_1.post.spacing_field.padding.left.value }}{{ module.style_1.post.spacing_field.padding.left.units }};">
      {% if module.topics.loaction == 'bottom' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
      {% if 'read_more' in list %}{{ readmore() }}{% endif %}
    </div>
    {% if 'author' in list %}<div class="author-date">{% if content.blog_author %}<span class="auth-img" style="background: #ebebeb url({{ content.blog_author.avatar }}) center;background-size: cover;"></span>By {{content.blog_author.display_name}}{{ '<br>' if 'date' in list }}{% endif %}{% if 'date' in list %}{{ content.publish_date|datetimeformat('%m/%d/%Y') }} {% endif %}</div>{% endif %}
  </div>
  <a href="{{content.absolute_url}}" class="blog-item-img" style="{% if is_featured == 'true' %}border-radius: {{ module.style_1.featured.border_radius }}px;{% else %}border-radius: {{ module.style_1.post.border_radius }}px;{% endif %}background: {{ module.image_bg_color.color }} url('{{ content.post_list_summary_featured_image }}') center no-repeat;background-size: {{ module.background_size }};"><div style="padding-top: {{ module.image_layout }}%;"></div>
    <span class="sr-label">{{ content.name }}</span>
  </a>
</div>
{% elif layout == 'background' %}
<div class="blog-item item-right {{ module.style_1.animation.animation }} {% if is_featured == 'true' %}column-1 featured{% else %}column-{{ module.posts_per_row }}{% endif %}" style="background: {{ module.image_bg_color.color }} url('{{ content.post_list_summary_featured_image }}') center no-repeat;background-size: {{ module.background_size }};{{ margin(is_featured) }}{{ shadow(is_featured) }}">
  <div class="blog-item-content" style="{{ style(is_featured) }}{{ padding(is_featured) }}">
    {% if module.topics.loaction == 'top' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
    <div class="blog-item-name">
      <a class="post-link" href="{{content.absolute_url}}">{% if 'title' in list %}<h3 style="{% if module.style_1.fonts.title.font %}font-family: {{ module.style_1.fonts.title.font }}; {% endif %}{{ module.style_1.fonts.title.style }};{% if module.style_1.fonts.title.color %} color: {{ module.style_1.fonts.title.color }};{% endif %} font-size: {{ module.style_1.fonts.title.size }}{{module.style_1.fonts.title.size_unit }};">{{ content.name }}</h3>{% endif %}{% if 'content' in list %}<div style="{% if module.style_1.fonts.content.font %}font-family: {{ module.style_1.fonts.content.font }}; {% endif %}{{ module.style_1.fonts.content.style }};{% if module.style_1.fonts.content.color %} color: {{ module.style_1.fonts.content.color }};{% endif %} font-size: {{ module.style_1.fonts.content.size }}{{module.style_1.fonts.content.size_unit }};">{{ content.post_list_content|cut('&nbsp;')|striptags|truncate(150, True, '...') }}</div>{% endif %}</a>
    </div>
    <div class="post-footer" style="padding: 0 {{ module.style_1.post.spacing_field.padding.right.value }}{{ module.style_1.post.spacing_field.padding.right.units }} {{ module.style_1.post.spacing_field.padding.bottom.value }}{{ module.style_1.post.spacing_field.padding.bottom.units }} {{ module.style_1.post.spacing_field.padding.left.value }}{{ module.style_1.post.spacing_field.padding.left.units }};">
      {% if module.topics.loaction == 'bottom' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
      {% if 'read_more' in list %}{{ readmore() }}{% endif %}
    </div>
    {% if 'author' in list %}<div class="author-date">{% if content.blog_author %}<span class="auth-img" style="background: #ebebeb url({{ content.blog_author.avatar }}) center;background-size: cover;"></span>By {{content.blog_author.display_name}}{{ '<br>' if 'date' in list }}{% endif %}{% if 'date' in list %}{{ content.publish_date|datetimeformat('%m/%d/%Y') }} {% endif %}</div>{% endif %}
  </div>
</div>
{% elif layout == 'top' %}
<div class="blog-item mb-resource-wrapper {{ module.style_1.animation.animation }} {% if is_featured == 'true' %}column-1{% else %}column-{{ module.posts_per_row }}{% endif %}" style="{{ margin(is_featured) }}">
  <div class="mb-resource" style="{{ style(is_featured) }}{{ shadow(is_featured) }}">
    <a href="{{content.absolute_url}}" class="mb-resource-img" style="background: {{ module.image_bg_color.color }} url('{{ content.post_list_summary_featured_image }}') {% if is_featured == 'true' %}top {% endif %}center no-repeat;background-size: {{ module.background_size }};padding-top: {% if is_featured == 'true' %}{{ module.image_layout / 2 }}{% else %}{{ module.image_layout }}{% endif %}%;"></a>
    <div class="content" style="{{ padding(is_featured) }}">
      {% if module.topics.loaction == 'top' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
      <a class="post-link" href="{{content.absolute_url}}">{% if 'title' in list %}<h3 style="{% if module.style_1.fonts.title.font %}font-family: {{ module.style_1.fonts.title.font }}; {% endif %}{{ module.style_1.fonts.title.style }};{% if module.style_1.fonts.title.color %} color: {{ module.style_1.fonts.title.color }};{% endif %} font-size: {{ module.style_1.fonts.title.size }}{{module.style_1.fonts.title.size_unit }};">{{ content.name }}</h3>{% endif %}{% if 'content' in list %}<div style="{% if module.style_1.fonts.content.font %}font-family: {{ module.style_1.fonts.content.font }}; {% endif %}{{ module.style_1.fonts.content.style }};{% if module.style_1.fonts.content.color %} color: {{ module.style_1.fonts.content.color }};{% endif %} font-size: {{ module.style_1.fonts.content.size }}{{module.style_1.fonts.content.size_unit }};">{{ content.post_list_content|cut('&nbsp;')|striptags|truncate(150, True, '...') }}</div>{% endif %}</a>
    </div>
    <div class="post-footer" style="padding: 0 {{ module.style_1.post.spacing_field.padding.right.value }}{{ module.style_1.post.spacing_field.padding.right.units }} {{ module.style_1.post.spacing_field.padding.bottom.value }}{{ module.style_1.post.spacing_field.padding.bottom.units }} {{ module.style_1.post.spacing_field.padding.left.value }}{{ module.style_1.post.spacing_field.padding.left.units }};">
      {% if module.topics.loaction == 'bottom' %}{% if 'tags' in list %}{{ topics() }}{% endif %}{% endif %}
      {% if 'read_more' in list %}{{ readmore() }}{% endif %}
    </div>
    {% if 'author' in list %}<div class="author-date">{% if content.blog_author %}<span class="auth-img" style="background: #ebebeb url({{ content.blog_author.avatar }}) center;background-size: cover;"></span>By {{content.blog_author.display_name}}{{ '<br>' if 'date' in list }}{% endif %}{% if 'date' in list %}{{ content.publish_date|datetimeformat('%m/%d/%Y') }} {% endif %}</div>{% endif %}
  </div>
</div>{% endif %}
{% endmacro %}

{% if !request.query_dict['term'] %}
{% if module.style != 'top' %}
<div class="span12 widget-span widget-type-custom_widget " style="" data-widget-type="custom_widget" data-x="0" data-w="12">
  <div id="hs_cos_wrapper_module_151456960811572" class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-blog_content" style="" data-hs-cos-general-type="widget" data-hs-cos-type="module">
    <div class="blog-section drop-{{ module.style_1.hover.drop_shadow }}">
      {% for content in contents %}
      {% if loop.index == 1 %}{% if module.featured_blog %}{{ image_layout('true', module.featured_style) }}{% else %}{{ image_layout('false', module.style) }}{% endif %}{% else %}
      {{ image_layout('false', module.style) }}
      {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
{% else %}

    <div class="flex-blog-section drop-{{ module.style_1.hover.drop_shadow }}">
      <div class="blog-listing-wrapper cell-wrapper">
        <div class="mp-posts post-listing{% if simple_list_page %}-simple{% endif %}">
          {% for content in contents %}
          {% if loop.index == 1 %}{% if module.featured_blog %}{{ image_layout('true', module.featured_style) }}{% else %}{{ image_layout('false', 'top') }}{% endif %}{% else %}
          {{ image_layout('false', 'top') }}
          {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>

{% endif %}

{% endif %}