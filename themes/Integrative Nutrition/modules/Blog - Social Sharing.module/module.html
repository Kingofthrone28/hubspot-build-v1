{% set content_name = content.name|striptags|urlencode %}
{% set content_url = content.absolute_url|urlencode %}
{% set links = [
  {
    label: 'Email',
    icon_name: 'email',
    url: 'mailto:?body={{ content_url }}&subject={{ content_name }}',
  },
  {
    label: 'Facebook',
    icon_name: 'facebook',
    url: 'http://www.facebook.com/share.php?u={{ content_url }}',
  },
  {
    label: 'X',
    icon_name: 'x-twitter',
    url: 'https://twitter.com/intent/tweet?url={{ content_url }}',
  },
  {
    label: 'LinkedIn',
    icon_name: 'linkedin',
    url: 'http://www.linkedin.com/shareArticle?mini=true&url={{ content_url }}',
  },
  {
    label: 'Pinterest',
    icon_name: 'pinterest',
    url: 'http://pinterest.com/pin/create/link/?url={{ content_url }}',
  }
] %}

{% macro render_link(link) %}
  <a
    class="jd-post-share-circle icon-{{ link.icon_name }}"
    aria-label="Share on {{ link.label }}"
    href="{{ link.url }}"
    target="_blank"
  ></a>
{% endmacro %}

<div class="jd-post-share" data-tracking-element="post-share">
  <div class="jd-post-share-title">Share this Article: </div>
  {% for link in links %}
    {{ render_link(link) }}
  {% endfor %}
</div>
